"use strict";var coursesEl=document.getElementById("courses"),coursesElNoButton=document.getElementById("coursesNoButton"),addCourseBtn=document.getElementById("addCourse"),codeInput=document.getElementById("code"),nameInput=document.getElementById("name"),progressionInput=document.getElementById("progression"),coursesyllabusInput=document.getElementById("coursesyllabus");function getCourses(){coursesEl&&(coursesEl.innerHTML=""),fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api/read.php").then((function(e){return e.json().then((function(e){e.forEach((function(e){coursesEl&&(coursesEl.innerHTML+='<div class="course"> \n<p> \n<b> Kurskod:</b> '.concat(e.code," <br/>\n<b> Kursnamn:</b> ").concat(e.name,"<br/>\n<b> Progression:</b> ").concat(e.progression,'<br/>\n<b> Kursplan:</b> <a class="syllabus_link" href="').concat(e.coursesyllabus,'" target="_blank">Länk här</a>\n</p>\n<button id="').concat(e.id,'" onClick="getOneToUpdate(').concat(e.id,')">Uppdatera</button>\n<button id="').concat(e.id,'" onClick="deleteCourse(').concat(e.id,')">Radera</button> \n</div>'))}))}))}))}function getCoursesNoButton(){coursesElNoButton.innerHTML="",fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api/read.php").then((function(e){return e.json().then((function(e){e.forEach((function(e){coursesElNoButton.innerHTML+='<div class="courseNoButton"> \n<p> \n<b> Kurskod:</b> '.concat(e.code," <br/>\n<b> Kursnamn:</b> ").concat(e.name,"<br/>\n<b> Progression:</b> ").concat(e.progression,'<br/>\n<b> Kursplan:</b> <a class="syllabus_link" href="').concat(e.coursesyllabus,'" target="_blank">Länk här</a>\n</p> <br/>\n</div>')}))}))}))}function addCourse(){var e={code:codeInput.value,name:nameInput.value,progression:progressionInput.value,coursesyllabus:coursesyllabusInput.value};fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api/create.php",{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){getCourses(),document.getElementById("code").value="",document.getElementById("name").value="",document.getElementById("progression").value="",document.getElementById("coursesyllabus").value=""})).catch((function(e){console.log("Error: ",e)}))}function deleteCourse(e){fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api/delete.php?id="+e,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){getCourses()})).catch((function(e){console.log("Error: ",e)}))}function getOneToUpdate(e){fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api/read_one.php?id="+e).then((function(e){return e.json()})).then(updateDiv.style.display="block").then((function(e){updateDiv.innerHTML+='<form method="get">\n            <label for="code">Kurskod</label>\n            <input type="text" name="code" id="newcode" value="'.concat(e.code,'"> <br>\n            <label for="name">Kursnamn</label>\n            <input type="text" name="name" id="newname" value="').concat(e.name,'"> <br>\n            <label for="prog">Progression</label>\n            <input type="text" name="prog" id="newprog" value="').concat(e.progression,'"> <br>\n            <label for="plan">Kursplan</label>\n            <input type="text" name="plan" id="newplan" value="').concat(e.coursesyllabus,'"> <br>\n            <input type="button" id="updateButton" onClick="updateCourse(').concat(e.id,')" value="Uppdatera"> <br>      \n            <input type="submit" id="closeButton" onClick="closeDiv()" value="Avbryt">\n            </form>')}))}function updateCourse(e){var n=document.getElementById("newcode"),t=document.getElementById("newname"),o=document.getElementById("newprog"),a=document.getElementById("newplan"),u={id:e,code:n=n.value,name:t=t.value,progression:o=o.value,coursesyllabus:a=a.value};fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api/update.php?id="+e,{method:"PUT",body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(e){getCourses()})).catch((function(e){console.log("Error: ",e)}))}window.addEventListener("load",getCourses),window.addEventListener("load",getCoursesNoButton),addCourseBtn&&addCourseBtn.addEventListener("click",addCourse);var workEl=document.getElementById("work"),workElNoButton=document.getElementById("workNoButton"),addWorkBtn=document.getElementById("addWork"),companyInput=document.getElementById("company"),titleInput=document.getElementById("title"),lengthInput=document.getElementById("length");function getWork(){workEl&&(workEl.innerHTML=""),fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api_work/read.php").then((function(e){return e.json().then((function(e){e.forEach((function(e){workEl&&(workEl.innerHTML+='<div class="work"> \n<p> \n<b> Företag: </b> '.concat(e.company," <br/>\n<b> Titel: </b> ").concat(e.title,"<br/>\n<b> Längd: </b> ").concat(e.length,'<br/>\n</p>\n<button id="').concat(e.work_id,'" onClick="getOneWorkToUpdate(').concat(e.work_id,')">Uppdatera</button>\n<button id="').concat(e.work_id,'" onClick="deleteWork(').concat(e.work_id,' )">Radera</button>\n</div>'))}))}))}))}function getWorkNoButton(){workElNoButton&&(workElNoButton.innerHTML=""),fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api_work/read.php").then((function(e){return e.json().then((function(e){e.forEach((function(e){workElNoButton&&(workElNoButton.innerHTML+='<div class="workNoButton"> \n<p> \n<b> Företag: </b> '.concat(e.company," <br/>\n<b> Titel: </b> ").concat(e.title,"<br/>\n<b> Längd: </b> ").concat(e.length,"<br/>\n</p> <br/>\n</div>"))}))}))}))}function addWork(){var e={company:companyInput.value,title:titleInput.value,length:lengthInput.value};fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api_work/create.php",{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){getWork(),document.getElementById("company").value="",document.getElementById("title").value="",document.getElementById("length").value=""})).catch((function(e){console.log("Error: ",e)}))}function deleteWork(e){fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api_work/delete.php?work_id="+e,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){getWork()})).catch((function(e){console.log("Error: ",e)}))}function getOneWorkToUpdate(e){fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api_work/read_one.php?work_id="+e).then((function(e){return e.json()})).then(updateDivWork.style.display="block").then((function(e){updateDivWork.innerHTML+='<form method="get">\n            <label for="company">Företag: </label>\n            <input type="text" name="company" id="newcompany" value="'.concat(e.company,'"> <br>\n            <label for="title">Titel: </label>\n            <input type="text" name="title" id="newtitle" value="').concat(e.title,'"> <br>\n            <label for="length">Längd: </label>\n            <input type="text" name="length" id="newlength" value="').concat(e.length,'"> <br>\n            <input type="button" id="updateWorkButton" onClick="updateWork(').concat(e.work_id,')" value="Uppdatera"> <br>      \n            <input type="submit" id="closeButton" onClick="closeDiv()" value="Avbryt">\n            </form>')}))}function updateWork(e){var n=document.getElementById("newcompany"),t=document.getElementById("newtitle"),o=document.getElementById("newlength"),a={"work_id ":e,company:n=n.value,title:t=t.value,length:o=o.value};fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api_work/update.php?work_id="+e,{method:"PUT",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){getWork()})).catch((function(e){console.log("Error: ",e)}))}window.addEventListener("load",getWork),window.addEventListener("load",getWorkNoButton),addWorkBtn&&addWorkBtn.addEventListener("click",addWork);var webpagesEl=document.getElementById("webpages"),webpagesElNoButton=document.getElementById("webpagesNoButton"),addWebpagesBtn=document.getElementById("addWebpages"),web_titleInput=document.getElementById("web_title"),urlInput=document.getElementById("url"),descriptionInput=document.getElementById("description");function getWebpages(){webpagesEl&&(webpagesEl.innerHTML=""),fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api_webpages/read.php").then((function(e){return e.json().then((function(e){e.forEach((function(e){webpagesEl&&(webpagesEl.innerHTML+='<div class="webpages"> \n<p> \n<b> Titel: </b> '.concat(e.web_title," <br/>\n<b> URL: </b> ").concat(e.url,"<br/>\n<b> Beskrivning:</b> ").concat(e.description,'<br/>\n</p>\n<button id="').concat(e.web_id,'" onClick="getOneWebpageToUpdate(').concat(e.web_id,')">Uppdatera</button>\n<button id="').concat(e.web_id,'" onClick="deleteWebpages(').concat(e.web_id,' )">Radera</button>\n</div>'))}))}))}))}function getWebpagesNoButton(){webpagesElNoButton.innerHTML="",fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api_webpages/read.php").then((function(e){return e.json().then((function(e){e.forEach((function(e){webpagesElNoButton.innerHTML+='<div class="webpagesNoButton"> \n<p> \n<b> Titel: </b> '.concat(e.web_title,' <br/>\n<b> URL: </b><a href="').concat(e.url,'" target="_blank">Länk här</a><br/>\n<b> Beskrivning: </b>').concat(e.description,"<br/>\n</p> <br/>\n</div>")}))}))}))}function addWebpages(){var e={web_title:web_titleInput.value,url:urlInput.value,description:descriptionInput.value};fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api_webpages/create.php",{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){getWebpages(),document.getElementById("web_title").value="",document.getElementById("url").value="",document.getElementById("description").value=""})).catch((function(e){console.log("Error: ",e)}))}function deleteWebpages(e){fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api_webpages/delete.php?web_id="+e,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){getWebpages()})).catch((function(e){console.log("Error: ",e)}))}function getOneWebpageToUpdate(e){fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api_webpages/read_one.php?web_id="+e).then((function(e){return e.json()})).then(updateWebpageDiv.style.display="block").then((function(e){updateWebpageDiv.innerHTML+='<form method="get">\n            <label for="web_title">Titel</label>\n            <input type="text" name="web_title" id="newweb_title" value="'.concat(e.web_title,'"> <br>\n            <label for="url">URL</label>\n            <input type="text" name="url" id="newurl" value="').concat(e.url,'"> <br>\n            <label for="description">Beskrivning</label>\n            <input type="text" name="description" id="newdescription" value="').concat(e.description,'"> <br>\n            <input type="button" id="updateWebpageButton" onClick="updateWebpages(').concat(e.web_id,')" value="Uppdatera">   \n            <input type="submit" id="closeButton" onClick="closeDiv()" value="Avbryt">\n            </form>')}))}function updateWebpages(e){var n=document.getElementById("newweb_title"),t=document.getElementById("newurl"),o=document.getElementById("newdescription"),a={"web_id ":e,web_title:n=n.value,url:t=t.value,description:o=o.value};fetch("https://malinsvensson.se/miun/webbutveckling3/projekt/api_webpages/update.php?web_id="+e,{method:"PUT",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){getWebpages()})).catch((function(e){console.log("Error: ",e)}))}window.addEventListener("load",getWebpages),window.addEventListener("load",getWebpagesNoButton),addWebpagesBtn&&addWebpagesBtn.addEventListener("click",addWebpages);